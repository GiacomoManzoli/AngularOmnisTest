{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/OmnisCallbackObject.ts","./src/OmnisWrapper.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/heroes/heroes.component.ts","./src/app/heroes/heroes.component.html","./src/app/mock-heroes.ts","./src/environments/environment.ts","./src/jOmnisHotSwap.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;;ACVA;AAAA;AAAA,mCAAmC;AAE5B,MAAM,mBAAmB;IAG9B,YAAY,aAA4B;QACtC,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACrC,CAAC;IAED,WAAW;QACT,OAAO,CAAC,IAAI,CACV,gEAAgE,CACjE,CAAC;IACJ,CAAC;IAED,sBAAsB;QACpB,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACnC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAC3C,CAAC;IAED,YAAY,CAAC,MAAM;QACjB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAED,YAAY,CAAC,MAAM;QACjB,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;CACF;;;;;;;;;;;;;AC7BD;AAAA;AAAA;AAA4D;AAQrD,MAAM,aAAa;IAGxB,YAAY,MAAc;QACxB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QAErB,EAAE;QACF,MAAM,cAAc,GAAG,IAAI,wEAAmB,CAAC,IAAI,CAAC,CAAC;QAErD,kCAAkC;QAClC,MAAM,cAAc,GAAG,MAAyB,CAAC;QACjD,cAAc,CAAC,eAAe,CAAC,cAAc,CAAC,CAAC;IACjD,CAAC;IAED;;;;;;OAMG;IACH,SAAS,CACP,MAAc,EACd,MAAqB,EACrB,MAAe,EACf,iBAA0B;QAE1B,OAAO,CAAC,IAAI,CAAC,sBAAsB,MAAM,EAAE,EAAE,MAAM,CAAC,CAAC;QACrD,IAAI,OAAO,GAAc;YACvB,MAAM,EAAE,MAAM;YACd,MAAM,EAAE,MAAM,IAAI,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;SAC5C,CAAC;QACF,IAAI,MAAM,EAAE;YACV,OAAO,CAAC,IAAI;gBACV,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAChE;QACD,IAAI,iBAAiB,EAAE;YACrB,OAAO,CAAC,QAAQ,GAAG,iBAAiB,CAAC;SACtC;QACD,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC;CACF;;;;;;;;;;;;;ACjDD;AAAA;AAAA;AAAA;AAAA;AAA0C;AACO;;;AAEjD,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AAEhC,8DAA8D;AAC9D,0EAA0E;AAC1E,+DAA+D;AAC/D,IAAI,SAAS,GAAG,MAAa,CAAC;AAC9B,SAAS,CAAC,aAAa,GAAG,IAAI,8DAAa,CAAC,MAAM,CAAC,CAAC;AAEpD,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,SAAS,CAAC,aAAa,CAAC,CAAC;AAOhD,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,gBAAgB,CAAC;KAC1B;;wEAFY,YAAY;4FAAZ,YAAY;QClBzB,qEAAI;QAAA,uDAAW;QAAA,4DAAK;QACpB,wEAAyB;;QADrB,0DAAW;QAAX,0EAAW;;6FDkBF,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,qBAAqB,CAAC;aACnC;;;;;;;;;;;;;;AEjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AACI,CAAC,yBAAyB;AACxB;AAEa;;AAQrD,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YADJ,CAAC,uEAAa,EAAE,0DAAW,CAAC;mIAI1B,SAAS,mBALL,2DAAY,EAAE,wEAAe,aAClC,uEAAa,EAAE,0DAAW;6FAIzB,SAAS;cANrB,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,2DAAY,EAAE,wEAAe,CAAC;gBAC7C,OAAO,EAAE,CAAC,uEAAa,EAAE,0DAAW,CAAC;gBACrC,SAAS,EAAE,EAAE;gBACb,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AAGV;;;;;;ICDtC,wEAKE;IAHA,mVAAwB;IAGxB,0EAAoB;IAAA,uDAAa;IAAA,4DAAO;IAAC,uDAC3C;IAAA,4DAAK;;;;IAHH,sGAAwC;IAEpB,0DAAa;IAAb,2EAAa;IAAQ,0DAC3C;IAD2C,wFAC3C;;;;IAGF,sEACE;IAAA,qEAAI;IAAA,uDAA2C;;IAAA,4DAAK;IACpD,sEAAK;IAAA,uEAAM;IAAA,+DAAI;IAAA,4DAAO;IAAA,uDAAqB;IAAA,4DAAM;IACjD,sEACE;IAAA,wEACG;IAAA,kEACD;IAAA,4EACF;IADS,wVAA+B;IAAtC,4DACF;IAAA,4DAAQ;IACV,4DAAM;IACR,4DAAM;;;IARA,0DAA2C;IAA3C,2KAA2C;IACzB,0DAAqB;IAArB,uFAAqB;IAIhC,0DAA+B;IAA/B,6FAA+B;;ADX5C,4EAA4E;AAC5E,kEAAkE;AAClE,gDAAgD;AAChD,IAAI,aAAa,CAAC;AAOX,MAAM,eAAe;IAI1B;QAHA,WAAM,GAAG,mDAAM,CAAC;QAId,aAAa,GAAG,MAAM,CAAC,eAAe,CAAkB,CAAC;QACzD,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;IAC/C,CAAC;IAED,QAAQ,KAAU,CAAC;IAEnB,QAAQ,CAAC,IAAU;QACjB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,aAAa,CAAC,SAAS,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;IACnD,CAAC;;8EAdU,eAAe;+FAAf,eAAe;QChB5B,qEAAI;QAAA,oEAAS;QAAA,4DAAK;QAClB,wEACE;QAAA,yGAKE;QAEJ,4DAAK;QAEL,4GACE;;QATE,0DAA2B;QAA3B,+EAA2B;QAQ1B,0DAAoB;QAApB,kFAAoB;;6FDKZ,eAAe;cAL3B,uDAAS;eAAC;gBACT,QAAQ,EAAE,YAAY;gBACtB,WAAW,EAAE,yBAAyB;gBACtC,SAAS,EAAE,CAAC,wBAAwB,CAAC;aACtC;;;;;;;;;;;;;;AEbD;AAAA;AAAO,MAAM,MAAM,GAAW;IAC5B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;IAC3B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;IACzB,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE;IAC5B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;IAC7B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;IAC3B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,WAAW,EAAE;IAC7B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;IAC1B,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;IACzB,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;IACzB,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;CAC5B,CAAC;;;;;;;;;;;;;ACbF;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;ACfnE,MAAM,wBAAwB;IAI5B;QACE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC;IACtC,CAAC;IACD,WAAW;QACT,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,OAAO,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;IAClD,CAAC;IAED,sBAAsB;QACpB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;IAC7D,CAAC;CACF;AAED,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE;IACpB,MAAM,CAAC,cAAc,GAAG,IAAI,wBAAwB,EAAE,CAAC;IACvD,MAAM,CAAC,eAAe,GAAG,UAAU,WAAW;QAC5C,IAAI,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;QACtC,IAAI,CAAC,cAAc,GAAG,WAAW,CAAC;QAClC,IAAI,WAAW,CAAC,WAAW,EAAE;YAC3B,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;SACnC;QACD,IAAI,WAAW,CAAC,sBAAsB,EAAE;YACtC,IAAI,CAAC,cAAc,CAAC,sBAAsB,EAAE,CAAC;SAC9C;IACH,CAAC,CAAC;CACH;KAAM;IACL,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;IAC3C,0CAA0C;CAC3C;;;;;;;;;;;;;AClCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;AAEzD,kDAAkD;AACzB;;;AAEzB,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBACN,CAAC,0DAAU;KAC1B,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { JOmnisWrapper } from './OmnisWrapper';\n\n// TODO: define the Omnis Interface\n\nexport class OmnisCallbackObject {\n  public jOmnisWrapper: JOmnisWrapper;\n\n  constructor(jOmnisWrapper: JOmnisWrapper) {\n    this.jOmnisWrapper = jOmnisWrapper;\n  }\n\n  omnisOnLoad() {\n    console.info(\n      ` Omnis interface loaded. Waiting for the communication link...`\n    );\n  }\n\n  omnisOnWebSocketOpened() {\n    console.info(` web socket opened`);\n    this.jOmnisWrapper.sendEvent('ev_Ready');\n  }\n\n  omnisSetData(params) {\n    console.log('omnisSetData', params);\n  }\n\n  omnisGetData(params) {\n    console.log('omnisGetData', params);\n  }\n}\n","import { OmnisCallbackObject } from './OmnisCallbackObject';\nexport interface OSMessage {\n  evType: string;\n  callId: number;\n  data?: string;\n  callback?: string;\n}\n\nexport class JOmnisWrapper {\n  jOmnis: JOmnis;\n\n  constructor(jOmnis: JOmnis) {\n    this.jOmnis = jOmnis;\n\n    //\n    const callbackObject = new OmnisCallbackObject(this);\n\n    // Set's the right callback object\n    const swappableOmnis = jOmnis as JOmnisSwappable;\n    swappableOmnis.callbackHotSwap(callbackObject);\n  }\n\n  /**\n   * Wrapps jOmnis.sendControlEvent.\n   * @param {String} evName Nome dell'evento, tipicamente ha un prefisso \"ev\"\n   * @param {Object | String} [evData] [OPZIONALE] Dati dell'evento come oggetto o come JSON.stringify\n   * @param {Number} [callId] [OPZIONALE] Id della chiamata alla quale risponde l'evento\n   * @param {String} [omnisCallbackName] [OPZIONALE] Nome del metodo di callback di Omnis\n   */\n  sendEvent(\n    evName: string,\n    evData?: string | any,\n    callId?: number,\n    omnisCallbackName?: string\n  ) {\n    console.info(`[jOmnis] sendEvent ${evName}`, evData);\n    var message: OSMessage = {\n      evType: evName,\n      callId: callId && callId !== 0 ? callId : 0,\n    };\n    if (evData) {\n      message.data =\n        typeof evData === 'string' ? evData : JSON.stringify(evData);\n    }\n    if (omnisCallbackName) {\n      message.callback = omnisCallbackName;\n    }\n    jOmnis.sendControlEvent(message);\n  }\n}\n","import { Component } from '@angular/core';\nimport { JOmnisWrapper } from 'src/OmnisWrapper';\n\nconsole.warn('jOmnis?', jOmnis);\n\n// This isn't ideal: it saves the wrapper as a global variable\n// i think that it should wrapped around a Service or something Observable\n// (i'm no Angular expert, i just had a quick look at the docs)\nlet anyWindow = window as any;\nanyWindow.jOmnisWrapper = new JOmnisWrapper(jOmnis);\n\nconsole.warn('jOmnisWrapper', anyWindow.jOmnisWrapper);\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  title = 'Tour of Heroes';\n}\n","<h1>{{ title }}</h1>\n<app-heroes></app-heroes>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms'; // <-- NgModel lives here\nimport { AppComponent } from './app.component';\n\nimport { HeroesComponent } from './heroes/heroes.component';\n\n@NgModule({\n  declarations: [AppComponent, HeroesComponent],\n  imports: [BrowserModule, FormsModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Hero } from '../hero';\n\nimport { HEROES } from '../mock-heroes';\nimport { JOmnisWrapper } from 'src/OmnisWrapper';\n\n// NO, Giacomo! you can't do that here, this is executed before Omnis starts\n// const jOmnisWrapper = window['jOmnisWrapper'] as JOmnisWrapper;\n// console.warn('jOmnisWrapper', jOmnisWrapper);\nlet jOmnisWrapper;\n\n@Component({\n  selector: 'app-heroes',\n  templateUrl: './heroes.component.html',\n  styleUrls: ['./heroes.component.css'],\n})\nexport class HeroesComponent implements OnInit {\n  heroes = HEROES;\n  selectedHero: Hero;\n\n  constructor() {\n    jOmnisWrapper = window['jOmnisWrapper'] as JOmnisWrapper;\n    console.warn('jOmnisWrapper', jOmnisWrapper);\n  }\n\n  ngOnInit(): void {}\n\n  onSelect(hero: Hero): void {\n    this.selectedHero = hero;\n    jOmnisWrapper.sendEvent('ev_HeroSelected', hero);\n  }\n}\n","<h2>My Heroes</h2>\n<ul class=\"heroes\">\n  <li\n    *ngFor=\"let hero of heroes\"\n    (click)=\"onSelect(hero)\"\n    [class.selected]=\"hero === selectedHero\"\n  >\n    <span class=\"badge\">{{ hero.id }}</span> {{ hero.name }}\n  </li>\n</ul>\n\n<div *ngIf=\"selectedHero\">\n  <h2>{{ selectedHero.name | uppercase }} Details</h2>\n  <div><span>id: </span>{{ selectedHero.id }}</div>\n  <div>\n    <label\n      >name:\n      <input [(ngModel)]=\"selectedHero.name\" placeholder=\"name\" />\n    </label>\n  </div>\n</div>\n","import { Hero } from './hero';\n\nexport const HEROES: Hero[] = [\n  { id: 11, name: 'Dr Nice' },\n  { id: 12, name: 'Narco' },\n  { id: 13, name: 'Bombasto' },\n  { id: 14, name: 'Celeritas' },\n  { id: 15, name: 'Magneta' },\n  { id: 16, name: 'RubberMan' },\n  { id: 17, name: 'Dynama' },\n  { id: 18, name: 'Dr IQ' },\n  { id: 19, name: 'Magma' },\n  { id: 20, name: 'Tornado' },\n];\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","class OmnisCallbackObjectDummy {\n  onLoadFired: boolean;\n  onWebSocketOpenedFired: boolean;\n\n  constructor() {\n    this.onLoadFired = false;\n    this.onWebSocketOpenedFired = false;\n  }\n  omnisOnLoad() {\n    this.onLoadFired = true;\n    console.log('OmnisCallbackObjectDummy: onLoad');\n  }\n\n  omnisOnWebSocketOpened() {\n    this.onWebSocketOpenedFired = true;\n    console.log('OmnisCallbackObjectDummy: onWebSocketOpened');\n  }\n}\n\nif (window['jOmnis']) {\n  jOmnis.callbackObject = new OmnisCallbackObjectDummy();\n  jOmnis.callbackHotSwap = function (newCallback) {\n    var oldCallback = this.callbackObject;\n    this.callbackObject = newCallback;\n    if (oldCallback.onLoadFired) {\n      this.callbackObject.omnisOnLoad();\n    }\n    if (oldCallback.onWebSocketOpenedFired) {\n      this.callbackObject.omnisOnWebSocketOpened();\n    }\n  };\n} else {\n  console.error('ERROR: jOmnis not defined');\n  //throw new Error('jOmnis non definito!');\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n// Some paranoid code to avoid troubles with Omnis\nimport './jOmnisHotSwap';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"],"sourceRoot":"webpack:///"}